<!DOCTYPE html>

<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>COVID-19 statistics by US state - Witulski</title>
  <link rel='stylesheet' href='assets/bootstrap.min.css'>
  <link rel='stylesheet' href='assets/styles.css'>
</head>

<body>
  <div class='container' id='container'>
    <div class='page-header'>
      <h1>COVID-19 statistics in the United States</h1>
      <p>
        Last updated on <span id="date">December 22, 2020</span> with data through <span id="lastData">December 21, 2020</span>. 
      </p>
      <p>
        Click state names to show their graphs individually.
        Works best on mobile if you turn the phone sideways. 
        Developed by <a href='https://cwitulski.com'>Christopher Witulski</a>.
      </p>
      <p>
        <span id="dailyScaledButton" class='btn btn-default'>Daily new cases per 100k</span>
        <span id="dailyButton" class='btn btn-primary'>Daily new cases</span>
        <span id="casesButton" class="btn btn-primary">Total cases</span>
        <span id="casesScaledButton" class='btn btn-primary'>Cases by population</span>
        <span id="deathsButton" class='btn btn-primary'>Total deaths</span>
      </p>
    </div>

    <div id="dailyScaled" class="chart"></div>
    <div id="daily" class="chart"></div>
    <div id="cases" class="chart"></div>
    <div id="casesScaled" class="chart"></div>
    <div id="deaths" class="chart"></div>

    <p>
      This chart tracks cases of COVID-19 across the USA. The data comes from the New York Times (see <a href='https://www.nytimes.com/article/coronavirus-county-data-us.html?action=click&module=Spotlight&pgtype=Homepage'>here for more information</a> and <a href='https://github.com/nytimes/covid-19-data'>here for the GitHub data</a>).
      The idea for the chart comes from <a href='https://ourworldindata.org/grapher/covid-confirmed-cases-since-100th-case'>this similar one from Our World in Data</a>.
    </p>
    <p>
      I wouldn't depend on this for much, it's mostly a chance for me to see a graph that I wish were easier to find while checking to see if I remember how to use D3.js.
    </p>
  </div>
  <script src='assets/script.js'></script>
  <script>

    var casesMargin = { top: 30, right: 50, bottom: 320, left: 80 };
    var cases = new window.CasesChart('cases', 'Cases, from 100th reported', casesMargin);

    var casesScaledMargin = { top: 30, right: 50, bottom: 320, left: 60 };
    var casesScaled = new window.CasesScaledChart('casesScaled', ['Total cases as a percentage of state population', 'US average shown as a dotted black line'], casesScaledMargin);

    var deathsMargin = { top: 30, right: 50, bottom: 320, left: 60 };
    var deaths = new window.DeathsChart('deaths', 'Deaths, from 10th reported', deathsMargin);

    var dailyMargin = { top: 30, right: 50, bottom: 320, left: 60 };
    var daily = new window.DailyChart('daily', 'Seven day rolling average', dailyMargin);

    var dailyScaledMargin = { top: 30, right: 50, bottom: 320, left: 30 };
    var dailyScaled = new window.DailyScaledChart('dailyScaled', ['Seven day rolling average per 100,000 of population', 'US average shown as a dotted black line'], dailyScaledMargin);

  </script>
  <script data-goatcounter='https://witulski.goatcounter.com/count' async src='//gc.zgo.at/count.js'></script>
</body>